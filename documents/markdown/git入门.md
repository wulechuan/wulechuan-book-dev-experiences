<link rel="stylesheet" href="../node_modules/@wulechuan/css-stylus-markdown-themes/dist/css/wulechuan-styles-for-html-via-markdown--vscode.default.min.css">



# Git 快速入门

2020-07-30

## 什么是 git

git 用于管理一组文件的版本历史。这样你可以很轻松的回到过去，挽救错误。git 存放文件的文件夹叫做【仓库】，英语是 repository。因此，git 的作用是管理仓库中的工作文件的无穷个版本。

日常工作，你可以仅在本机采用 git 管理自己的文件，一般的，程序员当然是借助git管理代码库，但实际上你可以用 git 管理任何文件。记住，git 只是管理文件版本的工具，不是特定于管理编程代码的工具。

为了多人协调，我们还需要在一台公共计算机上设计一个所谓【公共仓库】。这样，每个人各自计算机中的仓库中的文件就可以互相同步了。

## 怎样创建一个 git 仓库

一个git仓库必须包含一个名称为 `.git` 的文件夹，注意文件夹名称的起始有一个英语句点。git 管理仓库时的一切文件均在 `.git` 文件夹内，随着时间的推移，这个 `.git` 文件夹会比较庞大。

> 另，如果一个项目文件夹同时也被 svn 管理着，那么应该令 svn 忽略 `.git` 文件夹。因为 svn 没必要记录 `.git` 文件夹内的变化，甚至没必要知晓 `.git` 的存在。

## 制作文件的版本

git 管理一组文件的多个版本时，将版本称为【提交】，英语是 commit。每当 git 创建一个【提交】版本，就会自动完整记录这个文件夹内的所有文件。也就是说，每个 git 版本都包含一个完整的文件夹。但是别担心你的磁盘空间会很快被塞满，因为 git 在幕后有巨大的优化，如果一个文件自始至终没有任何修改，那么每个【提交】中的该文件，实际上共享磁盘上的一个物理文件。这就非常节约磁盘空间了。

## 管理文件版本发展——分支

随着工作进展，git 管理的多个版本一路变化而来，这些版本时有历史脉络的。简单的说是有先后次序的。这些先后次序构成了一条逻辑线。git 把这个逻辑线叫做【分支】，英语是 branch。

单一的一条历史线，与我们生活中习惯的“分支”的概念不太贴近，但是，工作中，我们可能因为很多原因而令文件发展的路线产生分叉。典型的例如多个程序员同时开发同一个项目，每个人各自编辑一下文件（往往是源代码文件），那么显然，每位程序员的版本都有各自的历史脉络。这时，git 管理的无数版本之间错综复杂的联系，就与生活中的“分支”概念更接近了。

而且很重要的一点，分支多半是需要【合并】的。否则，甲乙丙丁四位程序员的工作成果无法集中形成一个最终整体。git 允许任何人将自己的分支合并在一起，形成一个公共的分支。习惯上，大家会把这个公共分支定名为 `master` 分支。

## git 常用命令上手三（六）板斧

| <span style="display: inline-block; width: 300px;">命令</span> | 作用阐释 |
| --- | ---- |
| `git pull` | 从公共仓库下拉文件，即取得文件。
| `git push` | 从本机上推文件到公共仓库，即发送已经做好的所有【版本】到公共仓库。
| `git checkout` | 将工作文件集切换到一个所谓的【分支】。
| `git merge <分支名称2>` | 将采用“**分支名称2**”之名称的分支中的所有文件，合并到**当前**所在的分支。git 会全自动的管理文件内容的变化。结果：“分支名称2”的文件不变，当前分支的文件改变。
| `git commit -m "版本说明文字"` | 将当前【索引区】的内容构建成一个版本。该版本存放在你本机，稍后，你可以利用 `git push` 将该版本上推到公共仓库。

## git 命令的别名

上述 `pull`、`checkout`、`merge`之类的词汇太长，输入麻烦。git 很贴心的允许设计自定义“别名”来代替上述标准命令，可以节省打字。

例如，我习惯将：

- `ps` 代表 `push`

- `pl` 代表 `pull`

- `mg` 代表 `merge --no-ff`

- `co` 代表 `checkout`

- `br` 代表 `branch`

- `nbr` 代表新建一个分支：`checkout -b`

- `cm` 代表 `commit -m`，注意，我带上了 `-m` 选项，这样我日常可以免去输入它
